version: "3.0"

rules:

- rule: chatbot começa com o /start
  steps: 
  - intent: start
  - action: utter_greet
  - action: utter_bot_purpose
  
- rule: Ativar Volunteer Form 
  steps:
  - intent: volunteer_intent
  - action: utter_about_volunteering
  - action: volunteer_form
  - active_loop: volunteer_form

- rule: Submeter Volunteer Form 
  condition:
  - active_loop: volunteer_form
  steps:
  - action: volunteer_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_send_email

- rule: Ativar Donate Form 
  steps:
  - intent: donation_intent
  - action: utter_what_to_donate
  - action: donate_form
  - active_loop: donate_form

- rule: Submeter Donate Form 
  condition:
  - active_loop: donate_form
  steps:
  - action: donate_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_send_whats

- rule: Ativar pet form
  steps:
  - intent: affirm_intent 
  - action: utter_need_information 
  - action: pet_form
  - active_loop: pet_form


- rule: Submeter pet Form 
  condition:
  - active_loop: pet_form
  steps:
  - action: pet_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_searching
  - action: action_scrapping
  - action: action_reset_pet_slots 
  - action: utter_anything_else

- rule: Bot diz que está fora do escopo dele
  steps:
  - intent: out_of_scope_intent
  - action: utter_out_of_scope

- rule: Bot solicita para o usuário repetir quando estiver low NLU confidence
  steps:
  - intent: nlu_fallback
  - action: utter_please_rephrase

- rule: O bot explica seu propósito 
  steps:
  - intent: bot_purpose_intent
  - action: utter_bot_purpose

- rule: Dizer adeus
  steps:
  - intent: goodbye_intent
  - action: utter_goodbye

- rule: Respond to faqs 
  steps:
  - intent: faq
  - action: utter_faq

- rule: ask_action
  steps: 
  - intent: askaction
  - action: action_answer_disease
  
- rule: usuario deseja mais alguma coisa
  steps:
  - action: utter_anything_else
  - intent: affirm_intent
  - action: utter_how_can_i_help

- rule: usuario não deseja mais alguma coisa
  steps:
  - action: utter_anything_else
  - intent: deny_intent
  - action: utter_goodbye
